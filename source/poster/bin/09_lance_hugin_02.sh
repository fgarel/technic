#!/bin/sh

# script vu sur cette page
# Hugin tutorial - Stitching flat scanned images
# http://hugin.sourceforge.net/tutorials/scans/en.shtml

# http://wiki.panotools.org/Panorama_scripting_in_a_nutshell

Path='/home/fred/hugin/pva9'
Prefix='Assemblage'
FOV=10

# Personnalisation des paramètres - 1
# on met tout à zéro
pto_var \
        --set=y=0,p=0,r=0 \
        --set=TrX=0 \
        --set=TrY=0 \
        --set=TrZ=0 \
        -o $Path/project3.pto \
        $Path/project2.pto


# Personnalisation des paramètres - 2
# choix 2, retenu : on decale l objectif de la camera
# pour info, le choix 1, non retenu : on decale l image
# attention mouvement en x dans le sens inverse
# le coefficient de 1.6 pour la resolution de 150
# le coefficient de  pour la resolution de 300
pto_var \
        --set=d72=7111.111111111111/1.0 \
        --set=e72=-5111.111111111111/1.0 \
        --set=d71=7111.111111111111/1.0 \
        --set=e71=-3833.3333333333335/1.0 \
        --set=d70=7111.111111111111/1.0 \
        --set=e70=-2555.5555555555557/1.0 \
        --set=d69=7111.111111111111/1.0 \
        --set=e69=-1277.7777777777778/1.0 \
        --set=d68=7111.111111111111/1.0 \
        --set=e68=0.0/1.0 \
        --set=d67=7111.111111111111/1.0 \
        --set=e67=1277.7777777777778/1.0 \
        --set=d66=7111.111111111111/1.0 \
        --set=e66=2555.5555555555557/1.0 \
        --set=d65=7111.111111111111/1.0 \
        --set=e65=3833.3333333333335/1.0 \
        --set=d64=7111.111111111111/1.0 \
        --set=e64=5111.111111111111/1.0 \
        --set=d73=5333.333333333334/1.0 \
        --set=e73=-5111.111111111111/1.0 \
        --set=d42=5333.333333333334/1.0 \
        --set=e42=-3833.3333333333335/1.0 \
        --set=d41=5333.333333333334/1.0 \
        --set=e41=-2555.5555555555557/1.0 \
        --set=d40=5333.333333333334/1.0 \
        --set=e40=-1277.7777777777778/1.0 \
        --set=d39=5333.333333333334/1.0 \
        --set=e39=0.0/1.0 \
        --set=d38=5333.333333333334/1.0 \
        --set=e38=1277.7777777777778/1.0 \
        --set=d37=5333.333333333334/1.0 \
        --set=e37=2555.5555555555557/1.0 \
        --set=d36=5333.333333333334/1.0 \
        --set=e36=3833.3333333333335/1.0 \
        --set=d63=5333.333333333334/1.0 \
        --set=e63=5111.111111111111/1.0 \
        --set=d74=3555.5555555555557/1.0 \
        --set=e74=-5111.111111111111/1.0 \
        --set=d43=3555.5555555555557/1.0 \
        --set=e43=-3833.3333333333335/1.0 \
        --set=d20=3555.5555555555557/1.0 \
        --set=e20=-2555.5555555555557/1.0 \
        --set=d19=3555.5555555555557/1.0 \
        --set=e19=-1277.7777777777778/1.0 \
        --set=d18=3555.5555555555557/1.0 \
        --set=e18=0.0/1.0 \
        --set=d17=3555.5555555555557/1.0 \
        --set=e17=1277.7777777777778/1.0 \
        --set=d16=3555.5555555555557/1.0 \
        --set=e16=2555.5555555555557/1.0 \
        --set=d35=3555.5555555555557/1.0 \
        --set=e35=3833.3333333333335/1.0 \
        --set=d62=3555.5555555555557/1.0 \
        --set=e62=5111.111111111111/1.0 \
        --set=d75=1777.7777777777778/1.0 \
        --set=e75=-5111.111111111111/1.0 \
        --set=d44=1777.7777777777778/1.0 \
        --set=e44=-3833.3333333333335/1.0 \
        --set=d21=1777.7777777777778/1.0 \
        --set=e21=-2555.5555555555557/1.0 \
        --set=d6=1777.7777777777778/1.0 \
        --set=e6=-1277.7777777777778/1.0 \
        --set=d5=1777.7777777777778/1.0 \
        --set=e5=0.0/1.0 \
        --set=d4=1777.7777777777778/1.0 \
        --set=e4=1277.7777777777778/1.0 \
        --set=d15=1777.7777777777778/1.0 \
        --set=e15=2555.5555555555557/1.0 \
        --set=d34=1777.7777777777778/1.0 \
        --set=e34=3833.3333333333335/1.0 \
        --set=d61=1777.7777777777778/1.0 \
        --set=e61=5111.111111111111/1.0 \
        --set=d76=0.0/1.0 \
        --set=e76=-5111.111111111111/1.0 \
        --set=d45=0.0/1.0 \
        --set=e45=-3833.3333333333335/1.0 \
        --set=d22=0.0/1.0 \
        --set=e22=-2555.5555555555557/1.0 \
        --set=d7=0.0/1.0 \
        --set=e7=-1277.7777777777778/1.0 \
        --set=d0=0.0/1.0 \
        --set=e0=0.0/1.0 \
        --set=d3=0.0/1.0 \
        --set=e3=1277.7777777777778/1.0 \
        --set=d14=0.0/1.0 \
        --set=e14=2555.5555555555557/1.0 \
        --set=d33=0.0/1.0 \
        --set=e33=3833.3333333333335/1.0 \
        --set=d60=0.0/1.0 \
        --set=e60=5111.111111111111/1.0 \
        --set=d77=-1777.7777777777778/1.0 \
        --set=e77=-5111.111111111111/1.0 \
        --set=d46=-1777.7777777777778/1.0 \
        --set=e46=-3833.3333333333335/1.0 \
        --set=d23=-1777.7777777777778/1.0 \
        --set=e23=-2555.5555555555557/1.0 \
        --set=d8=-1777.7777777777778/1.0 \
        --set=e8=-1277.7777777777778/1.0 \
        --set=d1=-1777.7777777777778/1.0 \
        --set=e1=0.0/1.0 \
        --set=d2=-1777.7777777777778/1.0 \
        --set=e2=1277.7777777777778/1.0 \
        --set=d13=-1777.7777777777778/1.0 \
        --set=e13=2555.5555555555557/1.0 \
        --set=d32=-1777.7777777777778/1.0 \
        --set=e32=3833.3333333333335/1.0 \
        --set=d59=-1777.7777777777778/1.0 \
        --set=e59=5111.111111111111/1.0 \
        --set=d78=-3555.5555555555557/1.0 \
        --set=e78=-5111.111111111111/1.0 \
        --set=d47=-3555.5555555555557/1.0 \
        --set=e47=-3833.3333333333335/1.0 \
        --set=d24=-3555.5555555555557/1.0 \
        --set=e24=-2555.5555555555557/1.0 \
        --set=d9=-3555.5555555555557/1.0 \
        --set=e9=-1277.7777777777778/1.0 \
        --set=d10=-3555.5555555555557/1.0 \
        --set=e10=0.0/1.0 \
        --set=d11=-3555.5555555555557/1.0 \
        --set=e11=1277.7777777777778/1.0 \
        --set=d12=-3555.5555555555557/1.0 \
        --set=e12=2555.5555555555557/1.0 \
        --set=d31=-3555.5555555555557/1.0 \
        --set=e31=3833.3333333333335/1.0 \
        --set=d58=-3555.5555555555557/1.0 \
        --set=e58=5111.111111111111/1.0 \
        --set=d79=-5333.333333333334/1.0 \
        --set=e79=-5111.111111111111/1.0 \
        --set=d48=-5333.333333333334/1.0 \
        --set=e48=-3833.3333333333335/1.0 \
        --set=d25=-5333.333333333334/1.0 \
        --set=e25=-2555.5555555555557/1.0 \
        --set=d26=-5333.333333333334/1.0 \
        --set=e26=-1277.7777777777778/1.0 \
        --set=d27=-5333.333333333334/1.0 \
        --set=e27=0.0/1.0 \
        --set=d28=-5333.333333333334/1.0 \
        --set=e28=1277.7777777777778/1.0 \
        --set=d29=-5333.333333333334/1.0 \
        --set=e29=2555.5555555555557/1.0 \
        --set=d30=-5333.333333333334/1.0 \
        --set=e30=3833.3333333333335/1.0 \
        --set=d57=-5333.333333333334/1.0 \
        --set=e57=5111.111111111111/1.0 \
        --set=d80=-7111.111111111111/1.0 \
        --set=e80=-5111.111111111111/1.0 \
        --set=d49=-7111.111111111111/1.0 \
        --set=e49=-3833.3333333333335/1.0 \
        --set=d50=-7111.111111111111/1.0 \
        --set=e50=-2555.5555555555557/1.0 \
        --set=d51=-7111.111111111111/1.0 \
        --set=e51=-1277.7777777777778/1.0 \
        --set=d52=-7111.111111111111/1.0 \
        --set=e52=0.0/1.0 \
        --set=d53=-7111.111111111111/1.0 \
        --set=e53=1277.7777777777778/1.0 \
        --set=d54=-7111.111111111111/1.0 \
        --set=e54=2555.5555555555557/1.0 \
        --set=d55=-7111.111111111111/1.0 \
        --set=e55=3833.3333333333335/1.0 \
        --set=d56=-7111.111111111111/1.0 \
        --set=e56=5111.111111111111/1.0 \
        -o $Path/project4.pto \
        $Path/project3.pto


# Personnalisation des paramètres - 3
# optimisation possible
# avec comme point de depart, la photo central
pto_var \
        --opt=!y,!p,!r \
        --opt=d,e \
        --opt=!d0,!e0 \
        -o $Path/project5.pto \
        $Path/project4.pto
