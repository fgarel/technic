#!/bin/bash

# article direction
head -n 1 ../data1/ini/BATI_300.txt | \
  cut -b 1-30,31-32,33-40,41-42,43-46 --output-delimiter=';' > \
  ../data1/foot/bati_article_direction.txt

# article identifiant du local (00)
#tail -n +2 ../data1/ini/BATI_300.txt | \
#  grep -E "^.{30}00" | \
#  cut -c 1-2,3,4-6,7-16,17-30,31-32,33-35,36-38,39-40,41-44,45,46-47,48-49,50-51,52-56,57-60,61,62-66,67-70,71,72-75,76-105,106,107,108-200 --output-delimiter=';' > \
#  ../data1/foot/bati_article_00.txt

tail -n +2 ../data1/ini/BATI_300.txt | \
  grep -E "^.{30}00" | \
  cut -c 1-2,3,4-6,7-16,17-30,31-32,33-35,36-38,39-40,41-44,45,46-47,48-49,50-51,52-56,57-60,61,62-66,67-70,71,72-75,76-105,106,107 --output-delimiter=';' > \
  ../data1/foot/bati_article_00.txt

# article descriptif du local (10)
tail -n +2 ../data1/ini/BATI_300.txt | \
  grep -E "^.{30}10" | \
  cut -c 1-2,3,4-6,7-16,17-30,31-32,33-35,36,37,38-43,44-51,52-57,58,59,60,61-62,63-65,66,67-68,69-77,78-81,82-83,84-92,93,94,95-102,103-104,105-107,108,109-112,113-114,115,116,117-118,119-126,127-132,133-141,142-145,146-147,148,149,150-151,152-155,156-159,160-163,164-200 --output-delimiter=';' > \
  ../data1/foot/bati_article_10.txt

# article descriptif de pev (21)
tail -n +2 ../data1/ini/BATI_300.txt | \
  grep -E "^.{30}21" | \
  cut -c 1-2,3,4-6,7-16,17-27,28-30,31-32,33-35,36,37,38-39,40-42,43-45,46-51,52-60,61-69,70-71,72-101,102,103,104-106,107-138,139,140-142,143,144-147,148-150,151,152,153-161,162-164,165-200 --output-delimiter=';' > \
  ../data1/foot/bati_article_21.txt

# article exoneration de pev (30)
tail -n +2 ../data1/ini/BATI_300.txt | \
  grep -E "^.{30}30" | \
  cut -c 1-2,3,4-6,7-16,17-23,24-27,28-30,31-32,33-35,36-37,38-42,43-44,45-48,49-52,53-61,62,63-71,72,73-81,82,83-91,92,93-101,102,103-111,112,113-121,122,123-131,132,133-141,142,143-151,152-200 --output-delimiter=';' > \
  ../data1/foot/bati_article_30.txt

# article taxation de pev (36)
tail -n +2 ../data1/ini/BATI_300.txt | \
  grep -E "^.{30}36" | \
  cut -c 1-2,3,4-6,7-16,17-23,24-27,28-30,31-32,35,36-44,45,46-54,55,56-64,65,66-74,75,76-84,85,86-94,95,96-104,105,106-114,115,116-124,125,126-134,135,136-144,145,146-154,155,156-164,165,166-174,175-200 --output-delimiter=';' > \
  ../data1/foot/bati_article_36.txt

# article descriptif partie principale habitation (40)
tail -n +2 ../data1/ini/BATI_300.txt | \
  grep -E "^.{30}40" | \
  cut -c 1-2,3,4-6,7-16,17-27,28-30,31-32,33-35,36-37,38-43,44-45,46-47,48-53,54-55,56-57,58-63,64-65,66-67,68-73,74-75,76,77,78,79,80,81,82,83,84-85,86-87,88-89,90-91,92-94,95-96,97-98,99-100,101-102,103-104,105-106,107-108,109-110,111-116,117-118,119-120,121-124,125,126-127,128-200 --output-delimiter=';' > \
  ../data1/foot/bati_article_40.txt

# article descriptif professionnel (50)
tail -n +2 ../data1/ini/BATI_300.txt | \
  grep -E "^.{30}50" | \
  cut -c 1-2,3,4-6,7-16,17-27,28-30,31-32,33-35,36-44,45-53,54-62,63-71,72-80,81,82-90,91-99,100-200 --output-delimiter=';' > \
  ../data1/foot/bati_article_50.txt

# article descriptif dependance (60)
tail -n +2 ../data1/ini/BATI_300.txt | \
  grep -E "^.{30}60" | \
  cut -c 1-2,3,4-6,7-16,17-27,28-30,31-32,33-35,36-41,42-43,44-49,50-51,52-53,54,55,56,57,58-59,60-61,62-63,64-65,66-68,69-70,71-73,74-76,77-200 --output-delimiter=';' > \
  ../data1/foot/bati_article_60.txt

# article restant (99) (36 avec erreurs ?)
tail -n +2 ../data1/ini/BATI_300.txt | \
  grep -v -E "^.{30}(00|10|21|30|36|40|50|60)" | \
  cut -c 1-2,3,4-6,7-16,17-23,24-27,28-30,31-32,35,36-44,45,46-54,55,56-64,65,66-74,75,76-84,85,86-94,95,96-104,105,106-114,115,116-124,125,126-134,135,136-144,145,146-154,155,156-164,165,166-174,175-200 --output-delimiter=';' > \
  ../data1/foot/bati_article_99.txt 
