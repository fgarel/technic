\documentclass[12pt]{article}
%\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}  

%\usepackage[a4paper]{geometry}
\usepackage{numprint}
% \makeatletter
% \newcount\nprt@curpos
% \newcount\nprt@rndpos

% \renewcommand*\nprt@round[2]{%
%   \begingroup
%     \edef\nprt@numname{#1}%
%     \ifnum#2<0
%     \else
%       \nprt@debug{\string\nprt@round: Round after #2 digits for #1}%
%       \setcounter{nprt@#1@digitsafter}{#2}%
%       \expandafter\g@addto@macro\csname nprt@#1@after\endcsname{%
%         \nprt@roundnull}%
% %%%      \newcount\nprt@curpos
% %%%      \newcount\nprt@rndpos
%       \nprt@rndpos=#2
%       \nprt@roundupfalse
%       \edef\nprt@tmpnum{\csname nprt@#1@after\endcsname}%
%       \edef\nprt@newnum{}%
%       \expandafter\nprt@round@after\nprt@tmpnum\@empty\@empty
%       \expandafter\xdef\csname nprt@#1@after\endcsname{\nprt@newnum}%
%       \ifnprt@roundup
%         \edef\nprt@tmpnum{\csname nprt@#1@before\endcsname}%
%         \edef\nprt@newnum{}%
%         \expandafter\nprt@round@before\nprt@tmpnum\@empty\@empty
%         \ifnprt@roundup
%           \expandafter\xdef\expandafter\nprt@newnum{1\nprt@newnum}%
%           \stepcounter{nprt@#1@digitsbefore}%
%         \fi
%         \expandafter\xdef\csname nprt@#1@before\endcsname{\nprt@newnum}%
%       \fi
%     \fi
%   \endgroup
%   \ifnum#2<0
%   \else
%     \ifnum#2=0
%       \csname nprt@#1@decimalfoundfalse\endcsname
%     \else
%       \csname nprt@#1@decimalfoundtrue\endcsname
%     \fi
%   \fi
% }%

% \makeatother 
% \usepackage{array}
\newcommand*{\mois}[1]{
 \ifcase#1
    \or janvier\or f\'evrier\or mars\or avril\or mai\or juin\or
    juillet\or ao\^ut\or septembre\or octobre\or novembre\or
    d\'ecembre\fi}
%\usepackage[frenchb]{babel}
% Les paramètres de connexion (locale):
\texdbconnection{postgres,localhost,rouqui,rtuRTU,exemples-lbd}

% Création de la table
%#\texdbinstruction{
%  CREATE TABLE temperatures (
%    date date UNIQUE,
%    temp numeric(3,1))}

% On complète la table:
%#\texdbinstruction{COPY temperatures FROM
%  '/home/rouqui/fat/site/latex/lbd/exemples/rel-temp'}

% famille de requêtes
\texdbdef{##q}[range(1,13,1)]{SELECT %
  date_part('month'::text,date_trunc('month'::text, date::timestamp
  with time zone)) AS mois,
  date_part('year'::text,date_trunc('month'::text, date::timestamp
  with time zone)) AS an,
   min(temp) as mini,
   max(temp) as maxi,
   round(avg(temp),1\newcommand*{\mois}[1]{
 \ifcase#1
    \or janvier\or f\'evrier\or mars\or avril\or mai\or juin\or
    juillet\or ao\^ut\or septembre\or octobre\or novembre\or
    d\'ecembre\fi}) as moy
  FROM temperatures
  WHERE  date_part('month'::text,date_trunc('month'::text, date::timestamp
  with time zone)) = ##1
  GROUP BY date_trunc('month'::text,date::timestamp with time zone)
  ORDER BY an}

\begin{document}
\texdbfor{##q}[range(1,13,1)]{
\numprint{row.an}&row.mini&row.maxi&row.moy\\}%
\begin{center}
{\large \textbf{\mois{##1}}}

\smallskip
\begin{tabular}{|>{\nprounddigits{0}}c||r|r|r|}
\hline
Année&Minimum&Maximum&Moyenne\\
\hline
##texdbfor%
\hline
\end{tabular}
\end{center}
\endtexdbfor
\end{document}