\documentclass{article}
%\usepackage[latin1]{inputenc}
%\usepackage{array}

%%\texdbconnection{postgres,localhost,rouqui,rtuRTU,exemples-lbd}

% Création de la table notes, si elle existe déjà, on ajoute # ou un
% autre symbole devant la première ligne et on commente si ce n'est
% déjà fait.
%% \texdbinstruction{
%% CREATE TABLE notes (
%% id  integer primary key,
%% nom varchar(30),
%% dev1 numeric(3,1),
%% dev2 numeric(3,1),
%% dev3 numeric(3,1),
%% moy numeric(4,2),
%% rang integer)}

% On remplit la table
%\texdbinstruction{
%COPY notes(id,nom,dev1,dev2,dev3) 
%FROM '/home/rouqui/fat/site/latex/lbd/exemples/releve-notes' DELIMITERS '!'}

% Calcule de la moyenne
%\texdbinstruction{UPDATE notes SET moy =
%  (dev1+dev2+dev3)/3}

% Calcul du rang
%\texdbinstruction{UPDATE notes SET rang = 
%(SELECT count(w2.moy)+1 FROM notes w2 WHERE w2.moy>notes.moy)}

%\texdbdef{##q}{SELECT %   
%   nom,
%   dev1,
%   dev2,
%   dev3,
%   moy,
%   rang
%FROM notes ORDER by rang}

% Requête pour les moyennes de classe
%\texdbdef{##m}{SELECT
%  round(avg(dev1),1) as moydev1,
%  round(avg(dev2),1) as moydev2,
%  round(avg(dev3),1) as moydev3,
%  round(avg(moy),1) as moyg
%FROM notes}
  
\begin{document}
\begin{tabular}{|c|l|c|*{3}{c|}}
\hline
 Rang&Nom&moy&Dev1&Dev2&Dev3\\
\hline
% LES NOTES
%\texdbfor{##q}{row.rang&row.nom&row.moy&row.dev1&row.dev2&row.dev3\\}
1&Pierre&14.17&12.5&17.0&13.0\\
2&Jean&13.77&14.0&15.3&12.0\\
3&Jean-Pierre&1.53&1.0&3.5&0.1\\
\hline
% LES MOYENNES
%\texdbfor{##m}{&&row.moyg&row.moydev1&row.moydev2&row.moydev3\\}
&&9.8&9.2&11.9&8.4\\
\hline
\end{tabular}
\end{document}